---
title: "ZARO - 자취의 로망"
description: "자취 생활 커뮤니티 플랫폼"
date: "2025-04-28 ~ 2025-06-20"
role: "Project Lead, Backend, Server, Frontend"
skills: "Spring Boot, Spring Security, JWT, Redis, AWS EC2, RDS(MySQL), S3, Docker, Jenkins, Nginx, ElasticSearch, Swagger, Next.js"
imageUrl: "https://lh3.googleusercontent.com/d/10imtyhhIsQs9OimuBUqs0TP20leudi8N"
filter: ["🧸Toy", "👬Team"]
---

## 서비스 알아보기
<br />
#### 🧾 개요
ZARO는 자취생을 위한 후기, 팁, 질문을 나눌 수 있는 게시판 중심의 커뮤니티 서비스로, 게시판, 댓글, 프로필, 지도 등 다양한 기능을 제공합니다.

<ThinShortLine />

#### 🎯 배경
1인 가구, 특히 자취인은 식사·소비·외로움 등 다양한 문제에 직면해 있지만, 이를 통합적으로 다루는 서비스는 없었습니다.   
<img src="/projects/images/zaro/background.png" alt="ZARO Architecture" style={{ padding: "15px", justifyItems: "center", width: "60%", maxWidth: "600px" }} />
우리는 자취 커뮤니티 2,000개 데이터를 분석하고 자취인의 삶을 살펴본 결과,
**정보 접근성 부족, 실질적인 해결 어려움, 소통의 단절**이라는 문제를 발견했습니다.   
이에 따라 **자취인의 경험과 연결을 하나의 플랫폼으로 통합하는 커뮤니티 서비스**를 기획하게 되었습니다.

---

#### ✨ 주요 기능

<table>
  <tbody>
    <tr>
      <td>
        <a href="https://drive.google.com/file/d/1pmW29yHBKhDTNpi0g9j6XwRuVK8z9FrL/view?usp=drive_link" target="_blank">
          <img src="/projects/images/zaro/자로-홈.png" width="100%" />
        </a>
        <small>홈</small>
      </td>
      <td>
        <a href="https://drive.google.com/file/d/16Z_IYpoWcIHBMGp3Nt0-CHgYOeVV07Uc/view?usp=drive_link" target="_blank">
          <img src="/projects/images/zaro/자로-게시판.png" width="100%" />
        </a>
        <small>게시판</small>
      </td>
      <td>
        <a href="https://drive.google.com/file/d/13v0C0ZnqT818ZXq4O9Ai3g9Encwr-E04/view?usp=drive_link" target="_blank">
          <img src="/projects/images/zaro/자로-게시글.png" width="100%" />
        </a>
        <small>게시글, 댓글</small>
      </td>
      <td>
        <a href="https://drive.google.com/file/d/1FSCnlL-55qL9zMw2iFfrhDXgIpZFgObO/view?usp=drive_link" target="_blank">
          <img src="/projects/images/zaro/자로-프로필.png" width="100%" />
        </a>
        <small>프로필 변경</small>
      </td>
    </tr>
  </tbody>
</table>

- **회원 기능**: 이메일 가입, 카카오 로그인, 비밀번호 재설정, 휴면/탈퇴 처리  
- **커뮤니티**: 게시판, 댓글/좋아요/신고, 게시글 작성 및 검색 기능  
- **프로필**: 내 활동(글/댓글/좋아요), D-day, 팔로우, 즐겨찾기 관리  
- **장소 탐색**: 위치 기반 장소 조회, 메모 작성, 즐겨찾기 및 그룹 관리
- **기타**: 실시간 알림, 인기 게시글/장소, 키워드·카테고리 검색

---

#### 🎥 시연 영상

<iframe 
  width="100%" 
  height="400" 
  src="https://www.youtube.com/embed/j5y-rUP4AF4?si=jCKf2_hLouTSJYsi" 
  title="YouTube video player" 
  frameBorder="0" 
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
  referrerPolicy="strict-origin-when-cross-origin" 
  allowFullScreen>
</iframe>
[ZARO 서비스 시연 영상 유튜브에서 보기](https://www.youtube.com/watch?v=j5y-rUP4AF4)

- 페르소나 3인 시나리오에 따른 시연

<ThickLine />

## 기술과 성장
<br />
#### 🗃️ ERD
<a href="https://drive.google.com/file/d/1ArO8Eis6ju25X7EKrGGFNupTBaAREF14/view?usp=drive_link" target="_blank" rel="noopener noreferrer">
  <img src="/projects/images/zaro/erd.png" alt="ZARO ERD" />
</a>

- 사용자를 중심으로 기능과 책임이 명확하게 나뉘는 구조로 설계
- 게시글, 댓글, 좋아요, 신고 등의 커뮤니티 기능
- 팔로우, 알림 등 소셜 기능이 연결
- 장소 즐겨찾기, 그룹과 장소는 위치 기반 탐색 기능 담당
- 휴면 처리, 비밀번호 재설정, 이메일 인증 등은 별도 테이블로 관리해 운영과 보안을 분리

---

#### 🏗️ 기술 아키텍처
이미지 첨부 예정

---

#### 📌 담당 기능 상세
- 회원 및 인증 기능
    - JWT + Spring Security 기반 인증 및 로그인, redis 블랙리스트 활용 로그아웃 로직 구현
    - 회원가입, 이메일 인증 메일 전송 로직 구성
    - 휴면 계정 전환, 휴면 예정 안내 메일 전송 자동화 및 탈퇴시 익명화 스케줄러 구현
    - 카카오 OAuth 로그인 구현 및 사용자 정보 필터링
- 서버 운영 및 배포 자동화
    - Jenkins + Docker + Nginx 기반 CI/CD 파이프라인 구축
    - Blue-Green 기반의 HotStandby 방식 무중단 배포 구조 구현
    - EC2, 프록시 전환, S3 이미지 저장 등 실전 운영 환경 설계 및 적용
- 공통 응답 및 예외 처리
    - 공통 응답 포맷 분리 리팩토링 (ApiResponse에서 불필요한 응답 제외한 ErrorResponse 적용)
    - 커스텀 예외 처리 시스템 구축 (GlobalExceptionHandler + ErrorCode Enum)
    - 커스텀 Validator 구현을 통한 유효성 검사 및 책임 분리
- 사용자 프로필 및 계정 관리
    - 프로필 이미지, 닉네임 변경(14일 제한), 비밀번호 수정 등 계정 관리 기능 구현
- 커뮤니티 기능 및 검색
    - 댓글 CRUD API 구현
    - ElasticSearch 연동 게시글 검색 API 구성
    - S3 Presigned URL 기반 이미지 업로드 API 구현
- 프론트엔드 백업
    - 푸터 UI, 메인 배너 UI 구현
    - 로그아웃 UI 구현 및 API 연결
    - 회원 탈퇴 UI 구현 및 API 연결

---

#### 🤼‍♀️ 기술적 도전

##### 운영을 고려한 회원 상태 관리 정책 수립 및 인증 흐름 구성
<br />
**문제**  
- 커뮤니티 특성상 다양한 회원 상태(`PENDING`, `ACTIVE`, `DORMANT`, `DELETE`)를 고려해야 했고, 
UX 및 법적 요건(이메일 인증, 휴면 처리 등)도 함께 반영해야 했습니다.

**로직 고민 및 결과**
- 메일 인증 전 PENDING 회원 처리
    - 회원가입 시 이메일 인증을 완료하지 않은 회원을 PENDING 상태로 저장
    - 인증 완료 전이라면 1일 후 자동 삭제되도록 스케줄러 구성
    - 동일 이메일+닉네임의 재가입 요청이 있을 경우, “이미 가입된 계정입니다. 인증 메일을 다시 보냈습니다.” 식의 UX 메시지 처리
- 6개월 미 접속 DORMANT 회원 처리
    - 휴면 이전 회원 공지 필요 (법적 이슈)  - 휴면 전환 30일 전 안내 메일 발송 스케줄러 처리
        - JavaMailSender, MimeMessage 를 활용해 HTML 템플릿 활용 메일 전송
    - 로그인 시 마지막 접속 시각(lastLoginAt)을 기준으로 6개월 이상 미접속 회원은 DORMANT 전환
    - 이후 6개월 동안 추가 미접속 시 DELETE 상태로 전환 (soft delete)
    - 로그인 시 DORMANT 상태일 경우 자동 활성화 처리 로직 추가
- 탈퇴 DELETE 회원 처리
    - 최종적으로 30일 후 익명화 처리

> <aside>💡 사용자 상태 흐름을 자동화하고, **UX와 법적 요건**을 모두 반영한 설계 경험을 통해 **정합성과 유지보수성**을 모두 고려한 인증 인가 로직을 구성했습니다.</aside>

<br />
<ThinShortLine />

##### 배포 자동화 및 비용 효율을 고려한 무중단 배포 파이프라인 구축
<br />
**문제**  
- Jenkins를 로컬 환경에서 운영 중이라 팀원들이 접근 및 빌드 상태 확인이 불가능했고, 팀 기반의 공동 배포/관리 체계가 필요했습니다. 
- AWS 비용을 고려한 무중단 배포를 구성하는 것을 목표로 했습니다.

**접근 및 해결**
1. Jenkins 서버 이관 및 팀 기반 운영 환경 구성
  - Jenkins를 EC2 서버로 이전하고, SCM 연동(GitHub) 기반으로 파이프라인 관리
  - Jenkinsfile을 GitHub에 버전 관리하여 변경 이력을 공유
  - 사용자 계정을 추가하여 팀원 모두가 빌드 결과 및 상태 확인 가능하도록 설정
2. Blue-Green 기반의 Hot Standby 방식의 Main/Sub 서버 무중단 배포 구성
  - 비용 효율을 고려해 프리티어 환경으로 시도했으나, 메모리 부족으로 한단계 높은 t2.micro 서버(Sub 서버)를 활용, Main 서버는 빌드 + Docker 이미지 생성, Sub 서버는 이미지 전달 후 실행 전용 서버로 역할 분리 (동일 스펙 서버 2대 구성 대비 약 76% 비용 절감)
  - Nginx 프록시 설정을 통해 현재 운영 서버를 기준으로 Main↔Sub 전환 구조 구현
  - 최초 일반 Blue-Green으로 시도 했으나 Main 서버가 블루일 때 빌드를 하면서 컨테이너가 내려가는 문제가 있어 Main 서버에서 빌드를 할 때에만 Sub 서버로 전환하는 방식을 선택
  - 배포 스크립트 흐름:
    1. 현재 운영 서버 확인
    2. Main 서버일 경우, Sub 서버로 프록시 전환
    3. Main 서버에서 빌드 및 이미지 생성 → Main 서버에서 실행
    4. Main 서버로 프록시 전환 후 Sub 서버로 새로운 이미지 전송 및 실행
  - docker system prune, 상태 기반 토글 스크립트 등으로 디스크 용량 및 오류 복구 로직 함께 구성

> <aside>💡 Jenkins를 통해 **협업 가능한 배포 환경을 구성**하며 실질적인 CI/CD 운영 경험을 쌓았고, **비용 효율성**을 고려한 Main/Sub 구조 설계를 통해 운영 측면의 고려가 중요한 경험이었습니다.</aside>

---

#### 🔍 협업 및 설계 경험
- 프론트와 API 명세서 조율, 실제 UI 흐름 반영해 명세 수정
- 예외 처리, 응답 포맷 통일 등 프론트 개발 효율 고려한 설계
- API 문서화, 에러 코드 Enum 도입, 커스텀 Validator로 유지보수성 향상
- 일부 프론트엔드 백업(푸터, 로그아웃 등)을 통해 전체 흐름 이해도 상승

---

#### 📚 Learning Point
- 회원 상태 전환 흐름을 간결화 하기 위해 Enum 구조로 상태를 구분하고, 메일 전송부터 휴면 전환, 탈퇴, 삭제까지 스케줄러로 연결하여 자동화하였습니다. 운영 중 발생할 수 있는 예외 상황과 사용자 흐름까지 고려하여 설계하는 연습이 되었습니다.
- 유효성 검사 등 예외처리를 서비스 레이어에 몰아두었을 때 구조가 복잡하고 성능도 우려되어, 커스텀 Validator를 도입하여 책임을 분리하였습니다. 성능 및 유지보수를 고려하는 코드를 구현하려 노력했습니다.
- GlobalExceptionHandler와 ErrorCode Enum 구조를 도입해, 에러 응답을 통일하여 프론트에 예측 가능한 구조와 명확한 메시지를 제공하는 일관성을 유지하기 위한 고민을 했습니다.
- 단순한 CRUD API도 사용자 흐름과 인터페이스를 고려하여 팀원과 충분히 논의하였고, 팀원들의 의견을 반영해 실제 사용성에 맞는 방식으로 구현하였습니다. 그 과정에서 단순 구현이 아닌 서비스로서의 API를 고민하는 경험을 할 수 있었습니다.
- 프론트엔드 백업을 맡아 직접 구현한 API를 직접 연결하고 실제 UI 흐름에서 동작을 확인해보며, 풀스택 개발에 익숙해질 수 있었습니다.
- 이 과정을 통해 단순히 동작하는 코드를 넘어서, 동료가 읽고 함께 개선할 수 있는 코드를 고민하며 커뮤니케이션 중심의 개발 경험을 쌓을 수 있었습니다. 또, 서비스 전체 흐름을 고려한 설계, 문제 대응, 그리고 협업까지 아우르는 실무 감각을 키우기 위해 노력했습니다.

---

**🔗 GitHub |** [even-zaro-back](https://github.com/your-repo-link)

<ThickLine />
