---
title: "[MVC2] Thymeleaf - ê¸°ë³¸ ê¸°ëŠ¥"
description: "íƒ€ì„ë¦¬í”„ ì†Œê°œ, textì™€ utext, ë³€ìˆ˜, ê¸°ë³¸ ê°ì²´ë“¤, ìœ í‹¸ë¦¬í‹° ê°ì²´ì™€ ë‚ ì§œ, URL ë§í¬, ë¦¬í„°ëŸ´, ì—°ì‚°, ì†ì„± ê°’ ì„¤ì •, ë°˜ë³µ, ì¡°ê±´ë¶€ í‰ê°€, ì£¼ì„, ë¸”ë¡, ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸, í…œí”Œë¦¿ ì¡°ê°ê³¼ ë ˆì´ì•„ì˜·"
date: "2025.02.19"
filter: ["Spring"]
---

## íƒ€ì„ë¦¬í”„ ì†Œê°œ

- ê³µì‹ ë©”ë‰´ì–¼ https://www.thymeleaf.org/documentation.html

### íƒ€ì„ë¦¬í”„ íŠ¹ì§•

- ì„œë²„ ì‚¬ì´ë“œ HTML ë Œë”ë§
- ë„¤ì¸„ëŸ´ í…œí”Œë¦¿: ìˆœìˆ˜ HTMLì„ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ ë·° í…œí”Œë¦¿ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
- ìŠ¤í”„ë§ í†µí•© ì§€ì› good!

### íƒ€ì„ë¦¬í”„ ê¸°ë³¸ ê¸°ëŠ¥

**ì„ ì–¸**

```html
<html xmlns:th="http://www.thymeleaf.org">`
```

## í…ìŠ¤íŠ¸ - text, utext

`<span th:text="${data}">`

ë³´ì—¬ì§€ê¸° ìœ„í•´ ì»¨íŠ¸ë¡¤ëŸ¬ í•˜ë‚˜ ë§Œë“¤ê¸°

`basic/BasicController`

```java
@Controller
@RequestMapping("/basic")
public class BasicController {

    @GetMapping("text-basic")
    public String textBasic(Model model) {
        model.addAttribute("data", "Hello Spring!");
        return "basic/text-basic";
    }
}

```

`templates/basic/text-basic.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>ì»¨í…ì¸ ì— ë°ì´í„° ì¶œë ¥í•˜ê¸°</h1>
<ul>
    <li>th:text ì‚¬ìš© <span th:text="${data}">ì—¬ê¸°ì— ë°ì´í„°ê°€ ì¶œë ¥ë¨</span></li>
    <li>ì»¨í…ì¸  ì•ˆì—ì„œ ì§ì ‘ ì¶œë ¥í•˜ê¸° = [[${data}]]</li>
</ul>
</body>
</html>
```

- íƒœê·¸ ì•ˆì— `th:text=â€ â€œ`
- html íƒœê·¸ ì—†ì´ ì»¨í…ì¸  ì•ˆì—ì„œ ì§ì ‘ ì¶œë ¥í•˜ê³  ì‹¶ë‹¤ë©´ `[[â€¦]]`

### Escape

- ì›¹ ë¸Œë¼ìš°ì €: `Hello <b>Spring!</b>`
- ì†ŒìŠ¤ë³´ê¸°: `Hello &lt;b&gt;Spring!&lt;/b&gt;`

**HTML ì—”í‹°í‹°**

- `<` ë¥¼ HTML í…Œê·¸ì˜ ì‹œì‘ìœ¼ë¡œ ì¸ì‹ â†’ ë¬¸ìë¡œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ë°©ë²• = html ì—”í‹°í‹°
    - `<` â†’ `&lt;`
    - `>` â†’ `&gt;`
- íŠ¹ìˆ˜ ë¬¸ìë¥¼ HTML ì—”í‹°í‹°ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒ

### Unescape

- ì´ìŠ¤ì¼€ì´í”„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šì„ ë•Œ ì“°ëŠ” ê¸°ëŠ¥
    - `th:text` â†’ `th:utext`
    - `[[...]]` â†’ `[(...)]`

`ì»¨íŠ¸ë¡¤ëŸ¬`

```java
    @GetMapping("text-unescaped")
    public String textUnescaped(Model model) {
        model.addAttribute("data", "Hello <b>Spring!</b>");
        return "basic/text-unescaped";
    }
```

`text-unescaped.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>text vs utext</h1>
<ul>
    <li>th:text = <span th:text="${data}"></span></li>
    <li>th:utext = <span th:utext="${data}"></span></li>
</ul>
<h1><span th:inline="none">[[...]] vs [(...)]</span></h1>
<ul>
    <li><span th:inline="none">[[...]] = </span>[[${data}]]</li>
    <li><span th:inline="none">[(...)] = </span>[(${data})]</li>
</ul>
</body>
</html>
```

![Image](https://github.com/user-attachments/assets/92a1d421-de9a-48fc-9ad4-30c95d22e99e)

## ë³€ìˆ˜ - SpringEL

**ë³€ìˆ˜ í‘œí˜„ì‹ :** `${...}`

`ì»¨íŠ¸ë¡¤ëŸ¬`

```java
    @GetMapping("/variable")
    public String variable(Model model){
        User userA = new User("userA", 10);
        User userB = new User("userA", 20);

        List<User> list = new ArrayList<>();
        list.add(userA);
        list.add(userB);

        Map<String, User> map = new HashMap<>();
        map.put("userA", userA);
        map.put("userB", userB);

        model.addAttribute("user", userA);
        model.addAttribute("users", list);
        model.addAttribute("userMap", map);

        return "basic/variable";
    }

    @Data
    static class User {
        private String username;
        private int age;

        public User(String username, int age) {
            this.username = username;
            this.age = age;
        }
    }
```

`basic/variable.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>SpringEL í‘œí˜„ì‹</h1>
<ul>Object
    <li>${user.username} = <span th:text="${user.username}"></span></li>
    <li>${user['username']} = <span th:text="${user['username']}"></span></li>
    <li>${user.getUsername()} = <span th:text="${user.getUsername()}"></span></li>
</ul>
<ul>List
    <li>${users[0].username}    = <span th:text="${users[0].username}"></span></li>
    <li>${users[0]['username']} = <span th:text="${users[0]['username']}"></span></li>
    <li>${users[0].getUsername()} = <span th:text="${users[0].getUsername()}"></span></li>
</ul>
<ul>Map
    <li>${userMap['userA'].username} =  <span th:text="${userMap['userA'].username}"></span></li>
    <li>${userMap['userA']['username']} = <span th:text="${userMap['userA']['username']}"></span></li>
    <li>${userMap['userA'].getUsername()} = <span th:text="${userMap['userA'].getUsername()}"></span></li>
</ul>
</body>
</html>
```

![Image](https://github.com/user-attachments/assets/3431702d-10af-4a6b-8488-6257acc59e09)

**Object**

- `user.username` : userì˜ usernameì„ í”„ë¡œí¼í‹° ì ‘ê·¼ `user.getUsername()`
- `user['username']` : ìœ„ì™€ ê°™ìŒ `user.getUsername()`
- `user.getUsername()` : userì˜ `getUsername()` ì„ ì§ì ‘ í˜¸ì¶œ

**List**

- `users[0].username` : Listì—ì„œ ì²« ë²ˆì§¸ íšŒì›ì„ ì°¾ê³  username í”„ë¡œí¼í‹° ì ‘ê·¼
`list.get(0).getUsername()`

**Map**

- `userMap['userA'].username` : Mapì—ì„œ userAë¥¼ ì°¾ê³ , username í”„ë¡œí¼í‹° ì ‘ê·¼
`map.get("userA").getUsername()`

### ì§€ì—­ ë³€ìˆ˜ ì„ ì–¸

```html
<h1>ì§€ì—­ ë³€ìˆ˜ - (th:with)</h1>
<div th:with="first=${users[0]}">
		<p>ì²˜ìŒ ì‚¬ëŒì˜ ì´ë¦„ì€ <span th:text="${first.username}"></span></p>
</div>
```

- ì„ ì–¸í•œ íƒœê·¸ ì•ˆì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥

## ê¸°ë³¸ ê°ì²´ë“¤

- ê³¼ê±°ì— ë§ì´ ì§€ì›í–ˆìœ¼ë‚˜ í˜„ì¬ëŠ” `${#locale}` ë§Œ ê°€ëŠ¥
- ì§ì ‘ `model` ì— í•´ë‹¹ ê°ì²´ë¥¼ ì¶”ê°€í•´ì„œ ì‚¬ìš©í•´ì•¼ í•¨.
- í¸ì˜ ê°ì²´ ì œê³µ
    - HTTP ìš”ì²­ íŒŒë¼ë¯¸í„° ì ‘ê·¼: `param`
        - ì˜ˆ) `${param.paramData}`
    - HTTP ì„¸ì…˜ ì ‘ê·¼: `session`
        - ì˜ˆ) `${session.sessionData}`
    - ìŠ¤í”„ë§ ë¹ˆ ì ‘ê·¼: `@`
        - ì˜ˆ) `${@helloBean.hello('Spring!')}`

`ì»¨íŠ¸ë¡¤ëŸ¬`

```java
    @GetMapping("/basic-objects")
    public String basicObjects(Model model, HttpServletRequest request,
                               HttpServletResponse response, HttpSession session) {
        session.setAttribute("sessionData", "Hello Session");
        model.addAttribute("request", request);
        model.addAttribute("response", response);
        model.addAttribute("servletContext", request.getServletContext());
        return "basic/basic-objects";
    }
    @Component("helloBean")
    static class HelloBean {
        public String hello(String data) {
            return "Hello " + data;
        } 
    }
```

`basic/basic-objects.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>ì‹ ê¸°ë³¸ ê°ì²´ (Expression Basic Objects)</h1> 
<ul>
    <li>request = <span th:text="${request}"></span></li>
    <li>response = <span th:text="${response}"></span></li>
    <li>session = <span th:text="${session}"></span></li>
    <li>servletContext = <span th:text="${servletContext}"></span></li>
    <li>locale = <span th:text="${#locale}"></span></li>
</ul>
<h1>í¸ì˜ ê°ì²´</h1>
<ul>
    <li>Request Parameter = <span th:text="${param.paramData}"></span></li>
    <li>session = <span th:text="${session.sessionData}"></span></li>
    <li>spring bean = <span th:text="${@helloBean.hello('Spring!')}"></span></li>
</ul>
</body>
</html>
```

http://localhost:8080/basic/basic-objects?paramData=HelloParam

ğŸ‘†Â paramData = HelloParamìœ¼ë¡œ ë„£ì–´ì„œ ê·¸ë ‡ê²Œ ë‚˜ì˜¤ëŠ” ê²ƒ!

![Image](https://github.com/user-attachments/assets/0e6629b4-e0cf-4b5d-b053-9ecaceca0a13)

## ìœ í‹¸ë¦¬í‹° ê°ì²´ì™€ ë‚ ì§œ

- **íƒ€ì„ë¦¬í”„ ìœ í‹¸ë¦¬í‹° ê°ì²´ë“¤**
    - `#message` : ë©”ì‹œì§€, êµ­ì œí™” ì²˜ë¦¬
    - `#uris` : URI ì´ìŠ¤ì¼€ì´í”„ ì§€ì›
    - `#dates` : `java.util.Date` ì„œì‹ ì§€ì›
    - `#calendars` : `java.util.Calendar` ì„œì‹ ì§€ì›
    - `#temporals` : ìë°”8 ë‚ ì§œ ì„œì‹ ì§€ì›
    - `#numbers` : ìˆ«ì ì„œì‹ ì§€ì›
    - `#strings` : ë¬¸ì ê´€ë ¨ í¸ì˜ ê¸°ëŠ¥
    - `#objects` : ê°ì²´ ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ
    - `#bools` : boolean ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ
    - `#arrays` : ë°°ì—´ ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ
    - `#lists` , `#sets` , `#maps` : ì»¬ë ‰ì…˜ ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ

ì˜ ë˜ì–´ ìˆìœ¼ë‹ˆ ì°¾ì•„ì„œ ì‚¬ìš©í•  ê²ƒ

https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#expression-utility-objects

## URL ë§í¬

```java
    @GetMapping("/link")
    public String link(Model model){
        model.addAttribute("param1", "data1");
        model.addAttribute("param2", "data2");

        return "basic/link";
    }
```

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>URL ë§í¬</h1>
<ul>
    <li><a th:href="@{/hello}">basic url</a></li>
    <li><a th:href="@{/hello(param1=${param1}, param2=${param2})}">hello query param</a></li>
    <li><a th:href="@{/hello/{param1}/{param2}(param1=${param1}, param2=${param2})}">path variable</a></li>
    <li><a th:href="@{/hello/{param1}(param1=${param1}, param2=${param2})}">path variable + query parameter</a></li>
</ul>
</body>
</html>
```

```html

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>URL ë§í¬</h1>
<ul>
    <li><a href="/hello">basic url</a></li>
    <li><a href="/hello?param1=data1&amp;param2=data2">hello query param</a></li>
    <li><a href="/hello/data1/data2">path variable</a></li>
    <li><a href="/hello/data1?param2=data2">path variable + query parameter</a></li>
</ul>
</body>
</html>
```

- **ë‹¨ìˆœ URL**
    - `@{/hello}` â†’ `/hello`
- **ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°**
    - `@{/hello(param1=${param1}, param2=${param2})}`
        - â†’ `/hello?param1=data1&param2=data2`
        - `()` ì— ìˆëŠ” ë¶€ë¶„ì€ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ì²˜ë¦¬ëœë‹¤.
- **ê²½ë¡œ ë³€ìˆ˜**
    - `@{/hello/{param1}/{param2}(param1=${param1}, param2=${param2})}`
        - â†’ `/hello/data1/data2`
        - URL ê²½ë¡œìƒì— ë³€ìˆ˜ê°€ ìˆìœ¼ë©´ `()` ë¶€ë¶„ì€ ê²½ë¡œ ë³€ìˆ˜ë¡œ ì²˜ë¦¬ëœë‹¤.
- **ê²½ë¡œ ë³€ìˆ˜ + ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°**
    - `@{/hello/{param1}(param1=${param1}, param2=${param2})}`
    - `/hello/data1?param2=data2`

https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#link-urls

## ë¦¬í„°ëŸ´

- ë¬¸ì: `'hello'` - ì‘ì€ ë”°ì˜´í‘œë¡œ í•´ì•¼í•œë‹¤.
- ìˆ«ì: `10`
- ë¶ˆë¦°: `true` , `false`
- null: `null`

**ì˜¤ë¥˜**

`<span th:text="hello world!"></span>` 

**ìˆ˜ì •**

â†’ `<span th:text="'hello world!'"></span>`

**ë¦¬í„°ëŸ´ ëŒ€ì²´**

`<span th:text="|hello ${data}|">` 

- â€œ ì–´ì©Œê³ â€ + â€œì–´ì©Œê³ â€ ì´ë ‡ê²Œ ì•ˆí•´ë„ ëœë‹¤.

```java
    @GetMapping("/literal")
    public String literal(Model model) {
        model.addAttribute("data", "Spring!");
        return "basic/literal";
    }
```

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body> <h1>ë¦¬í„°ëŸ´</h1> <ul>
    <!-- ì£¼ì˜! ë‹¤ìŒ ì£¼ì„ì„ í’€ë©´ ì˜ˆì™¸ê°€ ë°œìƒí•¨-->
    <!-- <li>"hello world!" = <span th:text="hello world!"></span></li> -->
    <li>'hello' + ' world!' = <span th:text="'hello' + ' world!'"></span></li>
    <li>'hello world!' = <span th:text="'hello world!'"></span></li>
    <li>'hello ' + ${data} = <span th:text="'hello ' + ${data}"></span></li>
    <li>ë¦¬í„°ëŸ´ ëŒ€ì²´ |hello ${data}| = <span th:text="|hello ${data}|"></span></li>
</ul>
</body>
</html>
```

## ì—°ì‚°

```java
    @GetMapping("/operation")
    public String operation(Model model) {
        model.addAttribute("nullData", null);
        model.addAttribute("data", "Spring!");
        return "basic/operation";
```

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<ul>
    <li>ì‚°ìˆ  ì—°ì‚°
        <ul>
            <li>10 + 2 = <span th:text="10 + 2"></span></li>
            <li>10 % 2 == 0 = <span th:text="10 % 2 == 0"></span></li>
        </ul>
    </li>
    <li>ë¹„êµ ì—°ì‚°
        <ul>
            <li>1 > 10 = <span th:text="1 &gt; 10"></span></li>
            <li>1 gt 10 = <span th:text="1 gt 10"></span></li>
            <li>1 >= 10 = <span th:text="1 >= 10"></span></li>
            <li>1 ge 10 = <span th:text="1 ge 10"></span></li>
            <li>1 == 10 = <span th:text="1 == 10"></span></li>
            <li>1 != 10 = <span th:text="1 != 10"></span></li>
        </ul>
    </li>
    <li>ì¡°ê±´ì‹
        <ul>
            <li>(10 % 2 == 0)? 'ì§ìˆ˜':'í™€ìˆ˜' = <span th:text="(10 % 2 == 0)? 'ì§ìˆ˜':'í™€ìˆ˜'"></span></li>
        </ul>
    </li>
    <li>Elvis ì—°ì‚°ì
        <ul>
            <li>${data}?: 'ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.' = <span th:text="${data}?: 'ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.'"></span></li>
            <li>${nullData}?: 'ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.' = <span th:text="${nullData}?: 'ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.'"></span></li>
        </ul>
    </li>
    <li>No-Operation
        <ul>
            <li>${data}?: _ = <span th:text="${data}?: _">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</span></li>
            <li>${nullData}?: _ = <span th:text="${nullData}?: _">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</span></li>
        </ul>
    </li>
</ul>
</body>
</html>
```

- ë¹„êµ ì—°ì‚°
    - `>` (gt), `<` (lt), `>=` (ge), `<=` (le), `!` (not), `==` (eq), `!=` (neq, ne)
- ì¡°ê±´ì‹
- Elvis ì—°ì‚°ì : ì¡°ê±´ì‹ì˜ í¸ì˜ ë²„ì „
    - `th:text="${data}?: 'ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.'"`
    - ë°ì´í„°ê°€ ìˆìœ¼ë©´ dataê°€ ì¶œë ¥, ì—†ìœ¼ë©´ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ì¶œë ¥
- No-Operation : `_`
    - `null` ê°’ì´ ìˆì„ ê°€ëŠ¥ì„±ì´ ìˆëŠ” ê²½ìš° ê¸°ë³¸ê°’ ì²˜ë¦¬
    - `?: _` ì´ëŸ° ì‹ìœ¼ë¡œ ì¡°ê±´ì‹ìœ¼ë¡œ ì¢‹ì„ ë“¯. null ì•„ë‹ˆë©´ data ì˜ ë“¤ì–´ê°.

## ì†ì„± ê°’ ì„¤ì •

HTML íƒœê·¸ì— `th:*` ì†ì„±ì„ ì§€ì •í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘

`ì†ì„± ì„¤ì •`

- `<input type="text" name="mock" th:name="userA" />`

â‡’ íƒ€ì„ë¦¬í”„ ë Œë”ë§ í›„ `<input type="text" name="userA" />`

- ê¸°ì¡´ ì†ì„±ì´ ì—†ìœ¼ë©´ ìƒˆë¡œ ë§Œë“¤ì–´ ì¤Œ

**ì†ì„± ì¶”ê°€**

- `th:attrappend` : ì†ì„± ê°’ì˜ ë’¤ì— ê°’ì„ ì¶”ê°€í•œë‹¤.
    - `class="text" th:attrappend="class=' large'"` â†’ `class="text largeâ€`
- `th:attrprepend` : ì†ì„± ê°’ì˜ ì•ì— ê°’ì„ ì¶”ê°€í•œë‹¤.
- `th:classappend` : class ì†ì„±ì— ìì—°ìŠ¤ëŸ½ê²Œ ì¶”ê°€í•œë‹¤.

**checked ì²˜ë¦¬**

- htmlì—ì„œëŠ” checked í‘œì‹œë§Œ ìˆìœ¼ë©´ falseì—¬ë„ ì²´í¬ í‘œì‹œê°€ ë¨
    - `checked="false"`
    - `th:checked="true"` â†’ `checked="checkedâ€`
    - `th:checked="false"` â†’ ì•ˆë‚˜ì˜´

## ë°˜ë³µ

`th:each` ë¥¼ ì‚¬ìš©

```html
    <tr th:each="user : ${users}">
        <td th:text="${user.username}">username</td>
        <td th:text="${user.age}">0</td>
    </tr>
```

- List, Map(Map.Entry)ë„ ê°€ëŠ¥

**ë°˜ë³µ ìƒíƒœ ìœ ì§€**

`<tr th:each="user, userStat : ${users}">`

- `userStat` í˜„ì¬ ë£¨í”„ì— ëŒ€í•œ ìƒíƒœ
    - `index` : 0ë¶€í„° ì‹œì‘í•˜ëŠ” ê°’
    - `count` : 1ë¶€í„° ì‹œì‘í•˜ëŠ” ê°’
    - `size` : ì „ì²´ ì‚¬ì´ì¦ˆ
    - `even` , `odd` : í™€ìˆ˜, ì§ìˆ˜ ì—¬ë¶€( `boolean` )
    - `first` , `last` :ì²˜ìŒ, ë§ˆì§€ë§‰ ì—¬ë¶€( `boolean` )
    - `current` : í˜„ì¬ ê°ì²´

## ì¡°ê±´ë¶€ í‰ê°€

`if`,`unless`(`if` ì˜ ë°˜ëŒ€)

- ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ì•Šìœ¼ë©´ íƒœê·¸ ìì²´ê°€ ì‚¬ë¼ì§(ë Œë”ë§ x)

`th:case="*â€`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>if, unless</h1>
<table border="1">
    <tr>
        <th>count</th>
        <th>username</th>
        <th>age</th>
    </tr>
    <tr th:each="user, userStat : ${users}">
        <td th:text="${userStat.count}">1</td>
        <td th:text="${user.username}">username</td>
        <td>
            <span th:text="${user.age}">0</span>
            <span th:text="'ë¯¸ì„±ë…„ì'" th:if="${user.age lt 20}"></span>
            <span th:text="'ë¯¸ì„±ë…„ì'"th:unless="${user.age ge 20}"></span>
        </td>
    </tr>
</table>
<h1>switch</h1>
<table border="1">
    <tr>
        <th>count</th>
        <th>username</th>
        <th>age</th>
    </tr>
    <tr th:each="user, userStat : ${users}">
        <td th:text="${userStat.count}">1</td>
        <td th:text="${user.username}">username</td>
        <td th:switch="${user.age}">
            <span th:case="10">10ì‚´</span>
            <span th:case="20">20ì‚´</span> 
            <span th:case="*">ê¸°íƒ€</span>
        </td>
    </tr>
</table>
</body>
</html>
```

## ì£¼ì„

- HTML ì£¼ì„
    - htmlì„ ë³´ë©´ ë³´ì—¬ì§
    
    ```html
    <!--
    <span th:text="${data}">html data</span> 
    -->
    ```
    
- íƒ€ì„ë¦¬í”„ íŒŒì„œ ì£¼ì„(ì£¼ë¡œ ì“´ë‹¤)
    - ì•„ì˜ˆ ì•ˆë³´ì„
    
    ```html
    <!--/* [[${data}]] */-->
    ```
    
- íƒ€ì„ë¦¬í”„ í”„ë¡œí† íƒ€ì… ì£¼ì„(ê±°ì˜ ì•ˆì”€)
    - íƒ€ì„ë¦¬í”„ë¡œ ë Œë”ë§ ë˜ì—ˆì„ ë•Œë§Œ ë³´ì—¬ì§€ëŠ” ì£¼ì„
    
    ```html
    <!--/*/
    <span th:text="${data}">html data</span> 
    /*/-->
    ```
    

## ë¸”ë¡

`<th:block>` ì€ HTML íƒœê·¸ê°€ ì•„ë‹Œ íƒ€ì„ë¦¬í”„ì˜ ìœ ì¼í•œ ìì²´ íƒœê·¸

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<th:block th:each="user : ${users}">
    <div>
        ì‚¬ìš©ì ì´ë¦„1 <span th:text="${user.username}"></span>
        ì‚¬ìš©ì ë‚˜ì´1 <span th:text="${user.age}"></span>
    </div>
    <div>
        ìš”ì•½ <span th:text="${user.username} + ' / ' + ${user.age}"></span>
    </div>
</th:block>
</body>
</html>
```

- ë¸”ë¡ ë‚´ì—ì„œ ë°˜ë³µëœë‹¤.

## ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸

`<script th:inline="javascript">`

**í…ìŠ¤íŠ¸ ë Œë”ë§**

- `var username = [[${user.username}]];`
    - ì¸ë¼ì¸ ì‚¬ìš© ì „ â†’ `var username = userA;`
    - ì¸ë¼ì¸ ì‚¬ìš© í›„ â†’ `var username = "userA";`
- ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬ë„ í•´ì¤Œ

**ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¶”ëŸ´ í…œí”Œë¦¿**

- `var username2 = /*[[${user.username}]]*/ "test username";`
    - ì¸ë¼ì¸ ì‚¬ìš© ì „ â†’ `var username2 = /*userA*/ "test username";`
    - ì¸ë¼ì¸ ì‚¬ìš© í›„ â†’ `var username2 = "userA";`

**ê°ì²´**

- `var user = [[${user}]];`
    - ì¸ë¼ì¸ ì‚¬ìš© ì „ â†’ `var user = BasicController.User(username=userA, age=10);`
    - ì¸ë¼ì¸ ì‚¬ìš© í›„ â†’ `var user = {"username":"userA","age":10};`
- JSONìœ¼ë¡œ ìë™ìœ¼ë¡œ ë³€í™˜

### ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ each

```html
<script th:inline="javascript">
    [# th:each="user, stat : ${users}"]
    var user[[${stat.count}]] = [[${user}]];
    [/]
</script>
```

ê²°ê³¼

```html
<script>
    
    var user1 = {"username":"UserA","age":10};
    var user2 = {"username":"UserB","age":20};
    var user3 = {"username":"UserC","age":30};
    
</script>
```

## í…œí”Œë¦¿ ì¡°ê°

- ìƒë‹¨, í•˜ë‹¨, ì¹´í…Œê³ ë¦¬ ë“± ì—¬ëŸ¬ í˜ì´ì§€ì—ì„œ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ì˜ì—­
- ì»´í¬ë„ŒíŠ¸ì™€ ë ˆì´ì•„ì›ƒ ê°™ì€ ê±´ê°€ ë³´ë‹¤.

ì»¨íŠ¸ë¡¤ëŸ¬

```java
@Controller
 @RequestMapping("/template")
 public class TemplateController {
     @GetMapping("/fragment")
     public String template() {
         return "template/fragment/fragmentMain";
     }
}
```

footer

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<footer th:fragment="copy"> í‘¸í„° ìë¦¬ ì…ë‹ˆë‹¤.</footer>
<footer th:fragment="copyParam (param1, param2)"> <p>íŒŒë¼ë¯¸í„° ìë¦¬ ì…ë‹ˆë‹¤.</p>
    <p th:text="${param1}"></p>
    <p th:text="${param2}"></p>
</footer>
</body>
</html>
```

Main

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>ë¶€ë¶„ í¬í•¨</h1>
<h2>ë¶€ë¶„ í¬í•¨ insert</h2>
<div th:insert="~{template/fragment/footer :: copy}"></div>
<h2>ë¶€ë¶„ í¬í•¨ replace</h2>
<div th:replace="~{template/fragment/footer :: copy}"></div>
<h2>ë¶€ë¶„ í¬í•¨ ë‹¨ìˆœ í‘œí˜„ì‹</h2>
<div th:replace="template/fragment/footer :: copy"></div>
<h1>íŒŒë¼ë¯¸í„° ì‚¬ìš©</h1>
<div th:replace="~{template/fragment/footer :: copyParam ('ë°ì´í„°1', 'ë°ì´í„°2')}"></div>
</body>
</html>
```

- `template/fragment/footer :: copy`
    - `template/fragment/footer.html` í…œí”Œë¦¿ì— ìˆëŠ” `th:fragment="copy"` ë¼ëŠ” ë¶€ë¶„ì„ í…œí”Œë¦¿ ì¡°ê°ìœ¼ë¡œ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•œë‹¤ëŠ” ì˜ë¯¸

**ë¶€ë¶„ í¬í•¨ insert**

`<div th:insert="~{template/fragment/footer :: copy}"></div>`

- `th:insert` ë¥¼ ì‚¬ìš©í•˜ë©´ í˜„ì¬ íƒœê·¸( `div` ) ë‚´ë¶€ì— ì¶”ê°€

**ë¶€ë¶„ í¬í•¨ replace**

`<div th:replace="~{template/fragment/footer :: copy}"></div>`

- `th:replace` ë¥¼ ì‚¬ìš©í•˜ë©´ í˜„ì¬ íƒœê·¸( `div` )ë¥¼ ëŒ€ì²´

**ë¶€ë¶„ í¬í•¨ ë‹¨ìˆœ í‘œí˜„ì‹**

`<div th:replace="template/fragment/footer :: copy"></div>`

- `~{...}` ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì›ì¹™ì´ì§€ë§Œ í…œí”Œë¦¿ ì¡°ê°ì„ ì‚¬ìš©í•˜ëŠ” ì½”ë“œê°€ ë‹¨ìˆœí•˜ë©´ ì´ ë¶€ë¶„ì„ ìƒëµ ê°€ëŠ¥

**íŒŒë¼ë¯¸í„°**

`<div th:replace="~{template/fragment/footer :: copyParam ('ë°ì´í„°1', 'ë°ì´í„°2')}"></ div>`

- íŒŒë¼ë¯¸í„° ì „ë‹¬ë¡œ ë™ì ìœ¼ë¡œ ì¡°ê°ì„ ë Œë”ë§

## í…œí”Œë¦¿ ë ˆì´ì•„ì›ƒ1

- ë ˆì´ì•„ì›ƒì— ë„˜ê²¨ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
- baseë¼ëŠ” ê±°ëŒ€í•œ ë ˆì´ì•„ì›ƒì— í•„ìš”í•œ ë¶€ë¶„(layoutMain)ì„ ì „ë‹¬í•´ì„œ ì™„ì„±í•˜ëŠ” ê²ƒ

`/resources/templates/template/layout/base.html`

```html
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="common_header(title,links)">
    <title th:replace="${title}">ë ˆì´ì•„ì›ƒ íƒ€ì´í‹€</title>
    <!-- ê³µí†µ -->
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/awesomeapp.css}">
    <link rel="shortcut icon" th:href="@{/images/favicon.ico}">
    <script type="text/javascript" th:src="@{/sh/scripts/codebase.js}"></script>
    <!-- ì¶”ê°€ -->
    <th:block th:replace="${links}" />
</head>
```

`/resources/templates/template/layout/layoutMain.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="template/layout/base :: common_header(~{::title},~{::link})">
    <title>ë©”ì¸ íƒ€ì´í‹€</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/themes/smoothness/jquery-ui.css}">
</head>
<body> ë©”ì¸ ì»¨í…ì¸ </body>
</html>
```

- `common_header(~{::title},~{::link})`
    - `::title` ì€ í˜„ì¬ í˜ì´ì§€ì˜ title íƒœê·¸ë“¤ì„ ì „ë‹¬
    - `::link` ëŠ” í˜„ì¬ í˜ì´ì§€ì˜ link íƒœê·¸ë“¤ì„ ì „ë‹¬

## í…œí”Œë¦¿ ë ˆì´ì•„ì›ƒ2 - ë ˆì´ì•„ì›ƒì˜ í™•ì¥

`/resources/templates/template/layoutExtend/layoutFile.html`

```html
<!DOCTYPE html>
<html th:fragment="layout (title, content)" xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:replace="${title}">ë ˆì´ì•„ì›ƒ íƒ€ì´í‹€</title>
</head>
<body>
<h1>ë ˆì´ì•„ì›ƒ H1</h1>
<div th:replace="${content}">
    <p>ë ˆì´ì•„ì›ƒ ì»¨í…ì¸ </p>
</div>
<footer>
    ë ˆì´ì•„ì›ƒ í‘¸í„°
</footer>
</body>
</html>
```

- `<html th:fragment="layout (title, content)"`
    - html í†µì§¸ë¡œ ë„˜ì–´ê° (title, content)

`/resources/templates/template/layoutExtend/layoutFile.html`

```html
<!DOCTYPE html>
<html th:replace="~{template/layoutExtend/layoutFile :: layout(~{::title},
 ~{::section})}"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>ë©”ì¸ í˜ì´ì§€ íƒ€ì´í‹€</title>
</head>
<body>
<section>
    <p>ë©”ì¸ í˜ì´ì§€ ì»¨í…ì¸ </p>
    <div>ë©”ì¸ í˜ì´ì§€ í¬í•¨ ë‚´ìš©</div>
</section>
</body>
</html>
```

ê²°ê³¼ë¬¼ â‡’ 

```html
<!DOCTYPE html>
<html>
<head>
    <title>ë©”ì¸ í˜ì´ì§€ íƒ€ì´í‹€</title>
</head>
<body>
<h1>ë ˆì´ì•„ì›ƒ H1</h1>
<section>
    <p>ë©”ì¸ í˜ì´ì§€ ì»¨í…ì¸ </p>
    <div>ë©”ì¸ í˜ì´ì§€ í¬í•¨ ë‚´ìš©</div>
</section>
<footer>
    ë ˆì´ì•„ì›ƒ í‘¸í„°
</footer>
</body>
</html>
```

- ë ˆì´ì•„ì›ƒ íŒŒì¼ì„ ê¸°ë³¸ìœ¼ë¡œ í•˜ê³  ì—¬ê¸°ì— í•„ìš”í•œ ë‚´ìš©ì„ ì „ë‹¬í•´ì„œ ë¶€ë¶„ë¶€ë¶„ ë³€ê²½í•œë‹¤ê³  ìƒê°

ë.